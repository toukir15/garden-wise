{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/public/toukir.jpg.mjs (structured image object)"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 960, height: 954, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDbvfHslv4zhtfssoi2iF1Lkcsc7tvtxzWkqaU+W5hCq5UuZxs+x//Z\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;;;;uCACe;IAAE,KAAA,0MAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAA+4B,WAAW;IAAG,YAAY;AAAE"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/hooks/post.hook.ts"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { createPost, downvote, sharePost, upvote } from \"../services/posts\";\r\nimport { FieldValues } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport const useCreatePost = () => {\r\n  return useMutation<any, Error, FieldValues>({\r\n    mutationKey: [\"POST\"],\r\n    mutationFn: async (data) => await createPost(data),\r\n    onMutate: () => {\r\n      const toastId = toast.loading(\"Creating post...\", {\r\n        duration: Infinity,\r\n        position: \"top-right\",\r\n      });\r\n      return { toastId };\r\n    },\r\n    onSuccess: (_data, _variables, context: any) => {\r\n      toast.success(\"Post created successfully!\", {\r\n        id: context?.toastId,\r\n        duration: 2000,\r\n      });\r\n    },\r\n    onError: (_error, _variables, context: any) => {\r\n      toast.error(\"Failed to create post. Please try again.\", {\r\n        id: context?.toastId,\r\n        duration: 2000,\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\ntype SharePostVariables = {\r\n  description: string;\r\n  postId: string;\r\n};\r\nexport const useSharePost = () => {\r\n  return useMutation<any, Error, SharePostVariables>({\r\n    mutationKey: [\"POST\"],\r\n    mutationFn: async ({ description, postId }) =>\r\n      await sharePost(description, postId),\r\n    onMutate: () => {\r\n      const toastId = toast.loading(\"Sharing post...\", {\r\n        duration: Infinity,\r\n        position: \"top-right\",\r\n      });\r\n      return { toastId };\r\n    },\r\n    onSuccess: (_data, _variables, context: any) => {\r\n      toast.success(\"Shared post successfully!\", {\r\n        id: context?.toastId,\r\n        duration: 2000,\r\n      });\r\n    },\r\n    onError: (_error, _variables, context: any) => {\r\n      toast.error(\"Failed to share post. Please try again.\", {\r\n        id: context?.toastId,\r\n        duration: 2000,\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpvote = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({\r\n      voteId,\r\n      postId,\r\n      userId,\r\n    }: {\r\n      voteId: string;\r\n      postId: string;\r\n      userId: string;\r\n    }) => {\r\n      return await upvote(voteId);\r\n    },\r\n\r\n    // Optimistic update logic\r\n    onMutate: async ({ voteId, postId, userId }) => {\r\n      // Cancel any outgoing queries for \"posts\" to prevent conflict\r\n      await queryClient.cancelQueries([\"posts\"]);\r\n\r\n      // Snapshot the previous posts data\r\n      const previousPosts = queryClient.getQueryData([\"posts\"]);\r\n\r\n      // Optimistically update the cache with the new upvote\r\n      queryClient.setQueryData([\"posts\"], (old: any) => {\r\n        if (!old) return old;\r\n\r\n        // Find the post by postId\r\n        const findPost = old.data.find(\r\n          (post: { _id: string }) => post?._id === postId\r\n        );\r\n        if (findPost.isShared) {\r\n          const upvotes = findPost.votes.upvote;\r\n          const downvotes = findPost.votes?.downvote;\r\n\r\n          if (downvotes.includes(userId)) {\r\n            // Remove the userId from the downvote array\r\n            findPost.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          }\r\n          if (upvotes.includes(userId)) {\r\n            // Remove the userId from the upvote array\r\n            findPost.votes.upvote = upvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          } else {\r\n            // Add the userId to the upvote array\r\n            findPost.votes.upvote.push(userId);\r\n          }\r\n        } else {\r\n          const upvotes = findPost.post.votes.upvote;\r\n          const downvotes = findPost.post.votes.downvote;\r\n\r\n          if (downvotes.includes(userId)) {\r\n            // Remove the userId from the downvote array\r\n            findPost.post.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          }\r\n          if (upvotes.includes(userId)) {\r\n            // Remove the userId from the upvote array\r\n            findPost.post.votes.upvote = upvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          } else {\r\n            // Add the userId to the upvote array\r\n            findPost.post.votes.upvote.push(userId);\r\n          }\r\n        }\r\n        return old;\r\n      });\r\n\r\n      // Return snapshot for rollback on error\r\n      return { previousPosts };\r\n    },\r\n  });\r\n};\r\nexport const useDownvote = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({\r\n      voteId,\r\n      postId,\r\n      userId,\r\n      replyId,\r\n    }: {\r\n      voteId: string;\r\n      postId: string;\r\n      userId: string;\r\n      replyId?: string;\r\n    }) => {\r\n      return await downvote(voteId);\r\n    },\r\n\r\n    // Optimistic update logic\r\n    onMutate: async ({ voteId, postId, userId, replyId }) => {\r\n      // Cancel any outgoing queries for \"posts\" to prevent conflict\r\n      await queryClient.cancelQueries([\"posts\"]);\r\n      // Snapshot the previous posts data\r\n      const previousPosts = queryClient.getQueryData([\"posts\"]);\r\n\r\n      // Optimistically update the cache with the new downvote\r\n      queryClient.setQueryData([\"posts\"], (old: any) => {\r\n        if (!old) return old;\r\n\r\n        // Find the post by postId\r\n        const findPost = old.data.find(\r\n          (post: { _id: string }) => post?._id === postId\r\n        );\r\n\r\n        if (findPost.isShared) {\r\n          const upvotes = findPost.votes.upvote;\r\n          const downvotes = findPost.votes.downvote;\r\n\r\n          if (upvotes.includes(userId)) {\r\n            // Remove the userId from the downvote array\r\n            findPost.votes.upvote = upvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          }\r\n          if (downvotes.includes(userId)) {\r\n            // Remove the userId from the upvote array\r\n            findPost.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          } else {\r\n            // Add the userId to the upvote array\r\n            findPost.votes.downvote.push(userId);\r\n          }\r\n        } else {\r\n          const upvotes = findPost.post.votes.upvote;\r\n          const downvotes = findPost.post.votes.downvote;\r\n\r\n          if (upvotes.includes(userId)) {\r\n            // Remove the userId from the downvote array\r\n            findPost.post.votes.upvote = upvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          }\r\n          if (downvotes.includes(userId)) {\r\n            // Remove the userId from the upvote array\r\n            findPost.post.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          } else {\r\n            // Add the userId to the upvote array\r\n            findPost.post.votes.downvote.push(userId);\r\n          }\r\n        }\r\n\r\n        return old;\r\n      });\r\n\r\n      // Return snapshot for rollback on error\r\n      return { previousPosts };\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/CreatePost.tsx"],"sourcesContent":["\"use client\";\r\n/* eslint-disable padding-line-between-statements */\r\nimport Image from \"next/image\";\r\nimport { FieldValues, SubmitHandler, useForm } from \"react-hook-form\";\r\n\r\nimport {\r\n  Modal,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  useDisclosure,\r\n} from \"@nextui-org/modal\";\r\nimport { Button } from \"@nextui-org/button\";\r\nimport { Checkbox, Select, SelectItem } from \"@nextui-org/react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { useState } from \"react\";\r\nimport categories from \"../../assets/json/category.json\";\r\nimport profile from \"../../../public/toukir.jpg\";\r\nimport { useCreatePost } from \"@/src/hooks/post.hook\";\r\nimport { FaRegImage } from \"react-icons/fa\";\r\n\r\n// Dynamically import ReactQuill\r\nconst ReactQuill = dynamic(() => import(\"react-quill\"), { ssr: false });\r\n\r\nexport default function CreatePost() {\r\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\r\n  const [description, setDescription] = useState<string>(\"\");\r\n  const [files, setFiles] = useState<File[]>([]);\r\n  const [imagePreviews, setImagePreviews] = useState<string[]>([]);\r\n  const { mutate: handleCreatePost } = useCreatePost();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<FieldValues>();\r\n\r\n  const onSubmit: SubmitHandler<FieldValues> = (data) => {\r\n    // Handle the submitted data\r\n    const formData = new FormData();\r\n    formData.append(\"data\", JSON.stringify({ ...data, description }));\r\n    files.forEach((file) => {\r\n      formData.append(`file`, file);\r\n    });\r\n    handleCreatePost(formData);\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newFiles = Array.from(e.target.files || []);\r\n    const newPreviews = newFiles.map((file) => {\r\n      const reader = new FileReader();\r\n      return new Promise<string>((resolve) => {\r\n        reader.onload = () => resolve(reader.result as string);\r\n        reader.readAsDataURL(file);\r\n      });\r\n    });\r\n\r\n    Promise.all(newPreviews).then((previews) => {\r\n      setFiles((prev) => [...prev, ...newFiles]);\r\n      setImagePreviews((prev) => [...prev, ...previews]);\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"w-full border-b h-fit border-gray-700 py-4 \">\r\n      <div className=\"flex gap-3 items-center px-4\">\r\n        <Image\r\n          alt=\"Profile image\"\r\n          className=\"rounded-full\"\r\n          src={profile}\r\n          height={40}\r\n          width={40}\r\n        />\r\n        <Button\r\n          className=\"p-5 rounded-full text-sm w-full cursor-pointer flex justify-start bg-[#121212]\"\r\n          onPress={onOpen}\r\n        >\r\n          <input\r\n            disabled\r\n            placeholder=\"What's on your mind?\"\r\n            className=\"bg-[#121212]\"\r\n            type=\"text\"\r\n          />\r\n        </Button>\r\n      </div>\r\n\r\n      <Modal\r\n        className=\"bg-[#121212]\"\r\n        isOpen={isOpen}\r\n        size=\"2xl\"\r\n        onOpenChange={onOpenChange}\r\n      >\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <ModalContent className=\"absolute top-8 -translate-x-9\">\r\n            {(onClose) => (\r\n              <>\r\n                <ModalHeader className=\"flex text-center flex-col gap-1 border-b border-gray-600\">\r\n                  Create post\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                  {/* Select Category */}\r\n                  <Select\r\n                    {...register(\"category\")}\r\n                    size=\"sm\"\r\n                    items={categories}\r\n                    label=\"Select a category\"\r\n                    className=\"mt-3\"\r\n                    variant=\"bordered\"\r\n                  >\r\n                    {(category) => (\r\n                      <SelectItem key={category.label}>\r\n                        {category.label}\r\n                      </SelectItem>\r\n                    )}\r\n                  </Select>\r\n                  {/* Add Images */}\r\n                  <label\r\n                    className=\"border py-2 px-4 text-center w-fit flex items-center gap-2 text-sm rounded-full mt-2 border-green-500 text-green-500\"\r\n                    htmlFor=\"addImage\"\r\n                  >\r\n                    <span>\r\n                      <FaRegImage />\r\n                    </span>\r\n                    <span>Add Images</span>\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    onChange={handleFileChange}\r\n                    id=\"addImage\"\r\n                    className=\"hidden\"\r\n                    multiple\r\n                  />\r\n\r\n                  {/* Image Previews */}\r\n                  {imagePreviews.length > 0 && (\r\n                    <div className=\"flex flex-col md:flex-row w-full md:items-center mb-2 \">\r\n                      <div className={`flex w-full flex-wrap gap-3`}>\r\n                        {imagePreviews.map((src, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className=\"h-28 w-28 border border-dashed p-2\"\r\n                          >\r\n                            <img\r\n                              className=\"w-full h-full\"\r\n                              alt=\"preview\"\r\n                              src={src}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Rich Text Editor */}\r\n                  <div className=\"mt-3\">\r\n                    <ReactQuill\r\n                      placeholder=\"Add a description...\"\r\n                      className=\"text-white custom-quill\"\r\n                      value={description}\r\n                      onChange={setDescription}\r\n                      style={{ height: \"100px\" }}\r\n                    />\r\n                  </div>\r\n\r\n                  <Checkbox\r\n                    {...register(\"premium\")} // Register the checkbox\r\n                    defaultSelected={false}\r\n                    size=\"md\"\r\n                    className=\"mt-10\"\r\n                  >\r\n                    Premium\r\n                  </Checkbox>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                  <Button\r\n                    className=\"bg-green-500 py-2 font-medium rounded-full w-full\"\r\n                    type=\"submit\"\r\n                    onPress={onClose}\r\n                  >\r\n                    Post\r\n                  </Button>\r\n                </ModalFooter>\r\n              </>\r\n            )}\r\n          </ModalContent>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/LightGalleryImageView.tsx"],"sourcesContent":["import LightGallery from \"lightgallery/react\";\r\nimport \"lightgallery/css/lightgallery.css\";\r\nimport Image, { StaticImageData } from \"next/image\";\r\n\r\nexport default function LightGalleryImageView({\r\n  images,\r\n}: {\r\n  images: (string | StaticImageData)[];\r\n}) {\r\n  return (\r\n    <>\r\n      <LightGallery\r\n        elementClassNames={`grid ${images.length === 1 ? \"grid-cols-1\" : \"grid-cols-2\"} gap-1`}\r\n        mode=\"lg-fade\"\r\n      >\r\n        {images.map((image, index) => (\r\n          <a\r\n            key={index}\r\n            className={`relative h-full ${\r\n              images.length === 3 && index === 0 ? \"row-span-2\" : \"row-span-1\"\r\n            } ${index >= 4 ? \"hidden lg:block\" : \"\"}`}\r\n            href={typeof image === \"string\" ? image : image.src}\r\n          >\r\n            <Image\r\n              src={image}\r\n              height={500}\r\n              width={500}\r\n              className={`h-full object-cover\r\n\r\n                                 ${images.length == 1 && \"rounded-xl\"} \r\n\r\n                                 ${images.length == 2 && `${index == 0 && \"rounded-s-md\"} ${index == 1 && \"rounded-e-md\"} }`} \r\n\r\n                                 ${images.length == 3 && `${index == 0 && \"rounded-s-xl\"} ${index == 1 && \"rounded-tr-md\"} ${index == 2 && \"rounded-br-xl\"}`} \r\n\r\n                                 ${images.length > 3 && `${index == 0 && \"rounded-tl-xl\"} ${index == 1 && \"rounded-tr-md\"} ${index == 2 && \"rounded-bl-xl\"} ${index == 3 && \"rounded-br-xl\"}`} \r\n\r\n                                 ${index > 3 && \"hidden\"} `}\r\n              alt={`Image ${index + 1}`}\r\n            />\r\n            {index === 3 && images.length > 4 && (\r\n              <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xl\">\r\n                +{images.length - 4} more\r\n              </div>\r\n            )}\r\n          </a>\r\n        ))}\r\n      </LightGallery>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;AAIe,SAAS,sBAAsB,EAC5C,MAAM,EAGP;IACC,qBACE;kBACE,cAAA,qVAAC,yPAAA,CAAA,UAAY;YACX,mBAAmB,CAAC,KAAK,EAAE,OAAO,MAAM,KAAK,IAAI,gBAAgB,cAAc,MAAM,CAAC;YACtF,MAAK;sBAEJ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,qVAAC;oBAEC,WAAW,CAAC,gBAAgB,EAC1B,OAAO,MAAM,KAAK,KAAK,UAAU,IAAI,eAAe,aACrD,CAAC,EAAE,SAAS,IAAI,oBAAoB,GAAG,CAAC;oBACzC,MAAM,OAAO,UAAU,WAAW,QAAQ,MAAM,GAAG;;sCAEnD,qVAAC,0NAAA,CAAA,UAAK;4BACJ,KAAK;4BACL,QAAQ;4BACR,OAAO;4BACP,WAAW,CAAC;;iCAEO,EAAE,OAAO,MAAM,IAAI,KAAK,aAAa;;iCAErC,EAAE,OAAO,MAAM,IAAI,KAAK,CAAC,EAAE,SAAS,KAAK,eAAe,CAAC,EAAE,SAAS,KAAK,eAAe,EAAE,CAAC,CAAC;;iCAE5F,EAAE,OAAO,MAAM,IAAI,KAAK,CAAC,EAAE,SAAS,KAAK,eAAe,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,CAAC;;iCAE5H,EAAE,OAAO,MAAM,GAAG,KAAK,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,EAAE,SAAS,KAAK,gBAAgB,CAAC,CAAC;;iCAE7J,EAAE,QAAQ,KAAK,SAAS,CAAC,CAAC;4BAC7C,KAAK,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC;;;;;;wBAE1B,UAAU,KAAK,OAAO,MAAM,GAAG,mBAC9B,qVAAC;4BAAI,WAAU;;gCAA8F;gCACzG,OAAO,MAAM,GAAG;gCAAE;;;;;;;;mBAzBnB;;;;;;;;;;;AAiCjB"}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/config/envConfig.ts"],"sourcesContent":["export const envConfig = {\r\n  baseApi: process.env.NEXT_PUBLIC_BASE_API,\r\n  baseUrl: process.env.NEXT_PUBLIC_BASE_URL,\r\n};\r\n"],"names":[],"mappings":";;;AAAO,MAAM,YAAY;IACvB,OAAO;IACP,OAAO;AACT"}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/services/recentPosts/index.ts"],"sourcesContent":["import { envConfig } from \"@/src/config/envConfig\";\r\n\r\nexport const getPosts = async () => {\r\n  const fetchOption = {\r\n    next: {\r\n      tags: [\"posts\"],\r\n    },\r\n  };\r\n  const res = await fetch(`${envConfig.baseApi}/posts`, fetchOption);\r\n  return await res.json();\r\n};\r\n\r\nexport const getPost = async (postId: string) => {\r\n  const fetchOption = {\r\n    next: {\r\n      tags: [\"post\"],\r\n    },\r\n  };\r\n\r\n  const res = await fetch(`${envConfig.baseApi}/posts/${postId}`, fetchOption);\r\n  return await res.json();\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEO,MAAM,WAAW;IACtB,MAAM,cAAc;QAClB,MAAM;YACJ,MAAM;gBAAC;aAAQ;QACjB;IACF;IACA,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,uNAAA,CAAA,YAAS,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;IACtD,OAAO,MAAM,IAAI,IAAI;AACvB;AAEO,MAAM,UAAU,OAAO;IAC5B,MAAM,cAAc;QAClB,MAAM;YACJ,MAAM;gBAAC;aAAO;QAChB;IACF;IAEA,MAAM,MAAM,MAAM,MAAM,CAAC,EAAE,uNAAA,CAAA,YAAS,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE;IAChE,OAAO,MAAM,IAAI,IAAI;AACvB"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/hooks/recentPosts.hook.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { getPost, getPosts } from \"../services/recentPosts\";\r\n\r\nexport const useGetPosts = () => {\r\n  return useQuery([\"posts\"], getPosts);\r\n};\r\n\r\nexport const useGetPost = (postId: string) => {\r\n  return useQuery([\"post\", postId], () => getPost(postId));\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;AAGO,MAAM,cAAc;IACzB,OAAO,CAAA,GAAA,sQAAA,CAAA,WAAQ,AAAD,EAAE;QAAC;KAAQ,EAAE,oOAAA,CAAA,WAAQ;AACrC;AAEO,MAAM,aAAa,CAAC;IACzB,OAAO,CAAA,GAAA,sQAAA,CAAA,WAAQ,AAAD,EAAE;QAAC;QAAQ;KAAO,EAAE,IAAM,CAAA,GAAA,oOAAA,CAAA,UAAO,AAAD,EAAE;AAClD"}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 708, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/hooks/comment.hook.ts"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { comment, commentReply, downvote, upvote } from \"../services/comment\";\r\nimport { IUser } from \"../../types\";\r\n\r\ntype TCommentPayload = {\r\n  postId: string;\r\n  text: string;\r\n  user: IUser | null;\r\n};\r\n\r\nexport const useUpvote = () => {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: async ({\r\n      voteId,\r\n      postId,\r\n      userId,\r\n      commentId,\r\n    }: {\r\n      voteId: string;\r\n      postId: string;\r\n      userId: string;\r\n      commentId: string;\r\n      replyId?: string;\r\n    }) => {\r\n      return await upvote(voteId);\r\n    },\r\n\r\n    // Optimistic update logic\r\n    onMutate: async ({ voteId, postId, userId, commentId, replyId }) => {\r\n      // Cancel any outgoing queries for this specific post to prevent conflict\r\n      await queryClient.cancelQueries([\"post\", postId]);\r\n\r\n      // Snapshot the previous post data (specific to postId)\r\n      const previousPost = queryClient.getQueryData([\"post\", postId]);\r\n\r\n      // Optimistically update the cache with the new upvote\r\n      queryClient.setQueryData([\"post\", postId], (old: any) => {\r\n        if (!old) return old;\r\n\r\n        const postData = old.data;\r\n\r\n        // Helper function to handle upvotes and downvotes\r\n        const updateVotes = (item: any) => {\r\n          const upvotes = item.votes.upvote;\r\n          const downvotes = item.votes?.downvote;\r\n\r\n          // Remove the userId from downvotes if it exists\r\n          if (downvotes.includes(userId)) {\r\n            item.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          }\r\n\r\n          // Toggle userId in upvotes\r\n          if (upvotes.includes(userId)) {\r\n            item.votes.upvote = upvotes.filter((id: string) => id !== userId);\r\n          } else {\r\n            item.votes.upvote.push(userId);\r\n          }\r\n        };\r\n\r\n        // If it's a shared post, apply voting to the post itself\r\n        if (postData.isShared) {\r\n          // Upvote/downvote the shared post\r\n          updateVotes(postData);\r\n\r\n          // Check if it's a comment or reply on the shared post\r\n          const findComment = postData.comments.find(\r\n            (comment: any) => comment?._id === commentId\r\n          );\r\n\r\n          if (findComment) {\r\n            if (replyId) {\r\n              const findReply = findComment.replies.find(\r\n                (reply: any) => reply?._id === replyId\r\n              );\r\n              updateVotes(findReply);\r\n            } else {\r\n              updateVotes(findComment);\r\n            }\r\n          }\r\n        } else {\r\n          // Regular post (not shared) - handle comments/replies\r\n          const findComment = postData.post.comments.find(\r\n            (comment: any) => comment?._id === commentId\r\n          );\r\n\r\n          if (findComment) {\r\n            if (replyId) {\r\n              const findReply = findComment.replies.find(\r\n                (reply: any) => reply?._id === replyId\r\n              );\r\n              updateVotes(findReply);\r\n            } else {\r\n              updateVotes(findComment);\r\n            }\r\n          }\r\n        }\r\n\r\n        return old;\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDownvote = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({\r\n      voteId,\r\n    }: {\r\n      voteId: string;\r\n      postId: string;\r\n      userId: string;\r\n      commentId: string;\r\n      replyId?: string;\r\n    }) => {\r\n      return await downvote(voteId);\r\n    },\r\n\r\n    // Optimistic update logic\r\n    onMutate: async ({ voteId, postId, userId, commentId, replyId }) => {\r\n      // Cancel any outgoing queries for this specific post to prevent conflict\r\n      await queryClient.cancelQueries([\"post\", postId]);\r\n      // Snapshot the previous post data (specific to postId)\r\n      const previousPost = queryClient.getQueryData([\"post\", postId]);\r\n\r\n      // Optimistically update the cache with the new downvote\r\n      queryClient.setQueryData([\"post\", postId], (old: any) => {\r\n        if (!old) return old;\r\n\r\n        const postData = old.data;\r\n\r\n        // Helper function to handle upvotes and downvotes\r\n        const updateVotes = (item: any) => {\r\n          const upvotes = item.votes.upvote;\r\n          const downvotes = item.votes.downvote;\r\n\r\n          // Remove the userId from upvotes if it exists\r\n          if (upvotes.includes(userId)) {\r\n            item.votes.upvote = upvotes.filter((id: string) => id !== userId);\r\n          }\r\n\r\n          // Toggle userId in downvotes\r\n          if (downvotes.includes(userId)) {\r\n            item.votes.downvote = downvotes.filter(\r\n              (id: string) => id !== userId\r\n            );\r\n          } else {\r\n            item.votes.downvote.push(userId);\r\n          }\r\n        };\r\n\r\n        // If it's a shared post, apply voting to the post itself\r\n        if (postData.isShared) {\r\n          // Downvote the shared post\r\n          updateVotes(postData);\r\n\r\n          // Check if it's a comment or reply on the shared post\r\n          const findComment = postData.comments.find(\r\n            (comment: any) => comment?._id === commentId\r\n          );\r\n\r\n          if (findComment) {\r\n            if (replyId) {\r\n              const findReply = findComment.replies.find(\r\n                (reply: any) => reply?._id === replyId\r\n              );\r\n              updateVotes(findReply);\r\n            } else {\r\n              updateVotes(findComment);\r\n            }\r\n          }\r\n        } else {\r\n          // Regular post (not shared) - handle comments/replies\r\n          const findComment = postData.post.comments.find(\r\n            (comment: any) => comment?._id === commentId\r\n          );\r\n\r\n          if (findComment) {\r\n            if (replyId) {\r\n              const findReply = findComment.replies.find(\r\n                (reply: any) => reply?._id === replyId\r\n              );\r\n              updateVotes(findReply);\r\n            } else {\r\n              updateVotes(findComment);\r\n            }\r\n          }\r\n        }\r\n\r\n        return old;\r\n      });\r\n\r\n      // Return the previous post snapshot for rollback on error\r\n      return { previousPost };\r\n    },\r\n  });\r\n};\r\n\r\nexport const useComment = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ postId, text }: TCommentPayload) => {\r\n      return await comment(postId, text);\r\n    },\r\n\r\n    onSuccess: (serverResponse, variables) => {\r\n      const { postId, text, user } = variables;\r\n      const currentTimestamp = new Date().toISOString();\r\n      const commentData = {\r\n        _id: serverResponse.data._id,\r\n        text: text,\r\n        replies: [],\r\n        user: {\r\n          _id: user?._id,\r\n          name: user?.name,\r\n          profilePhoto: user?.profilePhoto,\r\n        },\r\n        votes: { _id: serverResponse.data.votes, upvote: [], downvote: [] },\r\n        createdAt: currentTimestamp,\r\n      };\r\n      // Update the query cache for the specific post with the new comment from the server\r\n      queryClient.setQueryData([\"post\", postId], (old: any) => {\r\n        if (!old) return old;\r\n\r\n        // Create a new post object to avoid mutation\r\n        const postData = { ...old.data };\r\n\r\n        if (!postData.isShared) {\r\n          postData.post = {\r\n            ...postData.post,\r\n            comments: [...postData.post.comments, commentData],\r\n          };\r\n        } else {\r\n          postData.comments = [...postData.comments, commentData];\r\n        }\r\n        console.log(postData);\r\n        return { ...old, data: postData };\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\n// type TCommentReplyPayload = {\r\n//   commentId: string;\r\n//   text: string;\r\n//   user: IUser | null;\r\n//   postId: string;\r\n// };\r\n\r\n// export const useCommentReply = () => {\r\n//   const queryClient = useQueryClient();\r\n\r\n//   return useMutation({\r\n//     mutationFn: async ({ commentId, text }: TCommentReplyPayload) => {\r\n//       return await commentReply(commentId, text);\r\n//     },\r\n\r\n//     onSuccess: (serverResponse, variables) => {\r\n//       console.log(serverResponse);\r\n//       const { commentId, postId, text, user } = variables;\r\n//       const currentTimestamp = new Date().toISOString();\r\n//       // const commentData = {\r\n//       //   _id: serverResponse.data._id,\r\n//       //   text: text,\r\n//       //   replies: [],\r\n//       //   user: {\r\n//       //     _id: user?._id,\r\n//       //     name: user?.name,\r\n//       //     profilePhoto: user?.profilePhoto,\r\n//       //   },\r\n//       //   votes: { _id: serverResponse.data.votes, upvote: [], downvote: [] },\r\n//       //   createdAt: currentTimestamp,\r\n//       // };\r\n//       // console.log(commentData);\r\n\r\n//       // Update the query cache for the specific post with the new comment from the server\r\n//       queryClient.setQueryData([\"post\", postId], (old: any) => {\r\n//         if (!old) return old;\r\n//         console.log({ old });\r\n\r\n//         // Create a new post object to avoid mutation\r\n//         const postData = { ...old.data };\r\n\r\n//         if (!postData.isShared) {\r\n//           // Find the specific comment by its _id\r\n//           const findCommentIndex = postData.post.comments.findIndex(\r\n//             (comment: { _id: string }) => comment._id === commentId\r\n//           );\r\n\r\n//           if (findCommentIndex !== -1) {\r\n//             // Create a new array with the updated replies for the specific comment\r\n//             const updatedComments = [...postData.post.comments];\r\n//             updatedComments[findCommentIndex] = {\r\n//               ...updatedComments[findCommentIndex],\r\n//               replies: [\r\n//                 ...updatedComments[findCommentIndex].replies,\r\n//                 replyData,\r\n//               ],\r\n//             };\r\n\r\n//             // Update the post with the new comments array\r\n//             postData.post = {\r\n//               ...postData.post,\r\n//               comments: updatedComments,\r\n//             };\r\n//           }\r\n//         }\r\n\r\n//         // return { ...old, data: postData };\r\n//       });\r\n//     },\r\n//   });\r\n// };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1007, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/CommentForm.tsx"],"sourcesContent":["import Image from \"next/image\";\r\nimport React from \"react\";\r\nimport toukir from \"../../../public/toukir.jpg\";\r\nimport { IoSend } from \"react-icons/io5\";\r\nimport { FieldValues, SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { useComment } from \"@/src/hooks/comment.hook\";\r\nimport { useUser } from \"@/src/context/user.provider\";\r\n\r\nexport default function CommentForm({ postId }: { postId: string }) {\r\n  const { user } = useUser();\r\n  const { mutate: handleComment } = useComment();\r\n  const { register, handleSubmit, reset } = useForm<FieldValues>();\r\n  const onSubmit: SubmitHandler<FieldValues> = (data) => {\r\n    handleComment({ postId, text: data.text, user: user });\r\n    reset();\r\n  };\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit(onSubmit)}\r\n      className=\"flex items-center border-t border-gray-600 \"\r\n    >\r\n      <div className=\"px-2\">\r\n        <Image\r\n          className=\" rounded-full\"\r\n          height={30}\r\n          width={30}\r\n          src={toukir}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <input\r\n        {...register(\"text\")}\r\n        type=\"text\"\r\n        id=\"comment\"\r\n        className=\"w-full mt-1 outline-none  py-3  text-sm comment_ploaceholder\"\r\n        placeholder=\"Write a comment...\"\r\n      />\r\n      <button className=\" text-xl text-green-500 hover:text-green-600 bg-[#1D1C1C] py-[17px] pr-3 pl-4 transition duration-200\">\r\n        <IoSend />\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAQe,SAAS,YAAY,EAAE,MAAM,EAAsB;IAChE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,gOAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,QAAQ,aAAa,EAAE,GAAG,CAAA,GAAA,4NAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,2PAAA,CAAA,UAAO,AAAD;IAChD,MAAM,WAAuC,CAAC;QAC5C,cAAc;YAAE;YAAQ,MAAM,KAAK,IAAI;YAAE,MAAM;QAAK;QACpD;IACF;IACA,qBACE,qVAAC;QACC,UAAU,aAAa;QACvB,WAAU;;0BAEV,qVAAC;gBAAI,WAAU;0BACb,cAAA,qVAAC,0NAAA,CAAA,UAAK;oBACJ,WAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,KAAK,8bAAA,CAAA,UAAM;oBACX,KAAI;;;;;;;;;;;0BAGR,qVAAC;gBACE,GAAG,SAAS,OAAO;gBACpB,MAAK;gBACL,IAAG;gBACH,WAAU;gBACV,aAAY;;;;;;0BAEd,qVAAC;gBAAO,WAAU;0BAChB,cAAA,qVAAC,4OAAA,CAAA,SAAM;;;;;;;;;;;;;;;;AAIf"}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1094, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/utils/formatRelativeTime.ts"],"sourcesContent":["import dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\n\r\n// Extend dayjs with the relativeTime plugin\r\ndayjs.extend(relativeTime);\r\n\r\nexport const formatRelativeTime = (time: any) => {\r\n  const diffInSeconds = dayjs().diff(time, \"second\");\r\n  if (diffInSeconds < 60) return `${diffInSeconds}s`;\r\n\r\n  const diffInMinutes = dayjs().diff(time, \"minute\");\r\n  if (diffInMinutes < 60) return `${diffInMinutes}m`;\r\n\r\n  const diffInHours = dayjs().diff(time, \"hour\");\r\n  if (diffInHours < 24) return `${diffInHours}h`;\r\n\r\n  const diffInDays = dayjs().diff(time, \"day\");\r\n  if (diffInDays < 7) return `${diffInDays}d`;\r\n\r\n  const diffInWeeks = dayjs().diff(time, \"week\");\r\n  if (diffInWeeks < 52) return `${diffInWeeks}w`;\r\n\r\n  const diffInYears = dayjs().diff(time, \"year\");\r\n  return `${diffInYears}y`;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAGA,4CAA4C;AAC5C,kOAAA,CAAA,UAAK,CAAC,MAAM,CAAC,4OAAA,CAAA,UAAY;AAElB,MAAM,qBAAqB,CAAC;IACjC,MAAM,gBAAgB,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACzC,IAAI,gBAAgB,IAAI,OAAO,CAAC,EAAE,cAAc,CAAC,CAAC;IAElD,MAAM,gBAAgB,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACzC,IAAI,gBAAgB,IAAI,OAAO,CAAC,EAAE,cAAc,CAAC,CAAC;IAElD,MAAM,cAAc,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACvC,IAAI,cAAc,IAAI,OAAO,CAAC,EAAE,YAAY,CAAC,CAAC;IAE9C,MAAM,aAAa,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACtC,IAAI,aAAa,GAAG,OAAO,CAAC,EAAE,WAAW,CAAC,CAAC;IAE3C,MAAM,cAAc,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACvC,IAAI,cAAc,IAAI,OAAO,CAAC,EAAE,YAAY,CAAC,CAAC;IAE9C,MAAM,cAAc,CAAA,GAAA,kOAAA,CAAA,UAAK,AAAD,IAAI,IAAI,CAAC,MAAM;IACvC,OAAO,CAAC,EAAE,YAAY,CAAC,CAAC;AAC1B"}},
    {"offset": {"line": 1118, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1123, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/Comment.tsx"],"sourcesContent":["\"use client\";\r\nimport { useGetPost } from \"@/src/hooks/recentPosts.hook\";\r\nimport Image from \"next/image\";\r\nimport React, { useState } from \"react\";\r\nimport { FaDownLong, FaUpLong } from \"react-icons/fa6\";\r\nimport toukir from \"../../../public/toukir.jpg\";\r\nimport { useDownvote, useUpvote } from \"@/src/hooks/comment.hook\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport CommentReply from \"./CommentReply\";\r\nimport { FieldValues, SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { useUser } from \"@/src/context/user.provider\";\r\nimport { formatRelativeTime } from \"@/src/utils/formatRelativeTime\";\r\ndayjs.extend(relativeTime);\r\n\r\nexport default function Comment({ postId }: { postId: string }) {\r\n  const [openCommentReplyID, setOpenCommentReplyID] = useState<string>(\"\");\r\n  const [openCommentNestedReplyID, setCommentNestedReplyID] =\r\n    useState<string>(\"\");\r\n  const { data: postData, isLoading, error } = useGetPost(postId);\r\n  const { mutate: handleUpvote } = useUpvote();\r\n  const { mutate: handleDownvote } = useDownvote();\r\n  const { user } = useUser();\r\n  const userId = user!?._id;\r\n\r\n  const handleCommnetUpvote = (\r\n    voteId: string,\r\n    postId: string,\r\n    commentId: string\r\n  ) => {\r\n    handleUpvote({ voteId, postId, userId, commentId });\r\n  };\r\n  const handleCommnetDownvote = (\r\n    voteId: string,\r\n    postId: string,\r\n    commentId: string\r\n  ) => {\r\n    handleDownvote({ voteId, postId, userId, commentId });\r\n  };\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<FieldValues>();\r\n\r\n  // const onSubmit: SubmitHandler<FieldValues> = (data) => {\r\n  //   handleCommentReply({\r\n  //     commentId: openCommentReplyID,\r\n  //     text: data.text,\r\n  //     postId: postId,\r\n  //     user: user,\r\n  //   });\r\n  // };\r\n  return (\r\n    <>\r\n      {postData?.data.isShared && (\r\n        <div className=\"h-[450px] overflow-y-auto comment_scroll\">\r\n          {postData?.data.comments.map((comment: any) => {\r\n            const checkCommentUpvoteStatus =\r\n              comment.votes?.upvote.includes(userId);\r\n            const checkCommentDownStatus =\r\n              comment.votes?.downvote.includes(userId);\r\n            return (\r\n              <div key={comment?._id} className=\"flex my-2\">\r\n                <div className=\" pr-2  mt-2 shrink-0 \">\r\n                  <Image\r\n                    className=\" rounded-full\"\r\n                    height={25}\r\n                    width={25}\r\n                    src={toukir}\r\n                    alt=\"user image\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <div className=\" bg-[#1d1c1c] py-1 px-2 rounded\">\r\n                    <p>\r\n                      <span className=\"font-semibold  text-sm\">\r\n                        {comment.user?.name}\r\n                      </span>\r\n                    </p>\r\n                    <p className=\"mb-1 text-gray-400 leading-[1.3] text-sm\">\r\n                      {comment.text}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex justify-between mt-1 text-sm font-medium text-gray-300 ml-3\">\r\n                    <div className=\"flex gap-5\">\r\n                      <span>\r\n                        {formatRelativeTime(dayjs(comment.createdAt))}\r\n                      </span>\r\n                      <button\r\n                        onClick={() => {\r\n                          handleCommnetUpvote(\r\n                            comment.votes?._id,\r\n                            postData.data?._id,\r\n                            comment?._id\r\n                          );\r\n                        }}\r\n                        className={`flex gap-[2px] ${checkCommentUpvoteStatus ? \"text-green-500\" : \"\"} `}\r\n                      >\r\n                        <FaUpLong className={`text-[15px]`} />\r\n                        <p>{comment.votes?.upvote.length || 0}</p>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          handleCommnetDownvote(\r\n                            comment.votes?._id,\r\n                            postData.data?._id,\r\n                            comment?._id\r\n                          );\r\n                        }}\r\n                      >\r\n                        <div className=\"flex items-center gap-[2px]\">\r\n                          <FaDownLong\r\n                            className={`flex gap-[2px] ${checkCommentDownStatus ? \"text-green-500\" : \"\"} `}\r\n                          />\r\n                          <p>{comment.votes?.downvote.length || 0}</p>\r\n                        </div>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"hiden\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n      {!postData?.data.isShared && (\r\n        <div className=\"h-[450px] overflow-y-auto comment_scroll\">\r\n          {postData?.data.post.comments.map((comment: any) => {\r\n            const checkCommentUpvoteStatus =\r\n              comment.votes.upvote.includes(userId);\r\n            const checkCommentDownStatus =\r\n              comment.votes?.downvote.includes(userId);\r\n            return (\r\n              <div key={comment?._id} className=\"flex my-2\">\r\n                <div className=\" pr-2  mt-2 shrink-0 \">\r\n                  <Image\r\n                    className=\" rounded-full\"\r\n                    height={25}\r\n                    width={25}\r\n                    src={toukir}\r\n                    alt=\"user image\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <div className=\" bg-[#1d1c1c] py-1 px-2 rounded\">\r\n                    <p>\r\n                      <span className=\"font-semibold  text-sm\">\r\n                        {comment.user?.name}\r\n                      </span>\r\n                    </p>\r\n                    <p className=\"mb-1 text-gray-400 leading-[1.3] text-sm\">\r\n                      {comment.text}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex justify-between mt-1 text-sm font-medium text-gray-300 ml-3\">\r\n                    <div className=\"flex gap-5\">\r\n                      <span>\r\n                        {formatRelativeTime(dayjs(comment.createdAt))}\r\n                      </span>\r\n                      <button\r\n                        onClick={() => {\r\n                          handleCommnetUpvote(\r\n                            comment.votes?._id,\r\n                            postData.data?._id,\r\n                            comment?._id\r\n                          );\r\n                        }}\r\n                        className={`flex gap-[2px] ${checkCommentUpvoteStatus ? \"text-green-500\" : \"\"} `}\r\n                      >\r\n                        <FaUpLong className={`text-[15px]`} />\r\n                        <p>{comment.votes.upvote.length}</p>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          handleCommnetDownvote(\r\n                            comment.votes?._id,\r\n                            postData.data?._id,\r\n                            comment?._id\r\n                          );\r\n                        }}\r\n                      >\r\n                        <div className=\"flex items-center gap-[2px]\">\r\n                          <FaDownLong\r\n                            className={`flex gap-[2px] ${checkCommentDownStatus ? \"text-green-500\" : \"\"} `}\r\n                          />\r\n                          <p>{comment.votes.downvote.length}</p>\r\n                        </div>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"hiden\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1525, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1530, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/ViewComment.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport Comment from \"./Comment\";\r\ndayjs.extend(relativeTime);\r\n\r\nexport default function ViewComment({\r\n  postId,\r\n  setIsOpenComment,\r\n  setOpenSharedComment,\r\n}: {\r\n  postId: string;\r\n  setIsOpenComment: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setOpenSharedComment: React.Dispatch<React.SetStateAction<boolean>>;\r\n}) {\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        setIsOpenComment(false);\r\n        setOpenSharedComment(false);\r\n      }}\r\n      className=\"fixed top-0 left-0 w-screen h-screen bg-[#000000ba] z-50 \"\r\n    >\r\n      <div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"w-[95%] md:w-[600px] lg:w-[660px] bg-[#121212] rounded-md absolute right-[52%] translate-x-1/2 top-[18%] md:top-[12%] flex flex-col justify-between \"\r\n      >\r\n        {/* hade and body  */}\r\n        <div className=\"\">\r\n          <div className=\"relative flex justify-center items-center py-3 px-2 border-b border-gray-600\">\r\n            <h3 className=\"text-xl\">Comments</h3>\r\n            <button\r\n              type=\"button\"\r\n              className=\" text-2xl absolute top-[10px] right-2 hover:bg-[#2d2a2a] p-1 rounded-full transition duration-150\"\r\n              onClick={() => {\r\n                setIsOpenComment(false);\r\n                setOpenSharedComment(false);\r\n              }}\r\n            >\r\n              <IoClose />\r\n            </button>\r\n          </div>\r\n          <div className=\"px-3\">\r\n            <Comment postId={postId} />\r\n          </div>\r\n          <div>\r\n            <CommentForm postId={postId} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;AAOA,kOAAA,CAAA,UAAK,CAAC,MAAM,CAAC,4OAAA,CAAA,UAAY;AAEV,SAAS,YAAY,EAClC,MAAM,EACN,gBAAgB,EAChB,oBAAoB,EAKrB;IACC,qBACE,qVAAC;QACC,SAAS;YACP,iBAAiB;YACjB,qBAAqB;QACvB;QACA,WAAU;kBAEV,cAAA,qVAAC;YACC,SAAS,CAAC,IAAM,EAAE,eAAe;YACjC,WAAU;sBAGV,cAAA,qVAAC;gBAAI,WAAU;;kCACb,qVAAC;wBAAI,WAAU;;0CACb,qVAAC;gCAAG,WAAU;0CAAU;;;;;;0CACxB,qVAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS;oCACP,iBAAiB;oCACjB,qBAAqB;gCACvB;0CAEA,cAAA,qVAAC,4OAAA,CAAA,UAAO;;;;;;;;;;;;;;;;kCAGZ,qVAAC;wBAAI,WAAU;kCACb,cAAA,qVAAC,kOAAA,CAAA,UAAO;4BAAC,QAAQ;;;;;;;;;;;kCAEnB,qVAAC;kCACC,cAAA,qVAAC,sOAAA,CAAA,UAAW;4BAAC,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjC"}},
    {"offset": {"line": 1639, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1644, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/utils/checkVoteStatus.ts"],"sourcesContent":["export const checkVoteStatus = (\r\n  isShared: boolean,\r\n  data: any,\r\n  userId: string,\r\n  voteType: \"upvote\" | \"downvote\"\r\n) => {\r\n  const voteData = isShared\r\n    ? data?.votes[voteType]\r\n    : data?.post?.votes[voteType];\r\n  return voteData?.find((votedUserId: string) => votedUserId === userId);\r\n};\r\n"],"names":[],"mappings":";;;AAAO,MAAM,kBAAkB,CAC7B,UACA,MACA,QACA;IAEA,MAAM,WAAW,WACb,MAAM,KAAK,CAAC,SAAS,GACrB,MAAM,MAAM,KAAK,CAAC,SAAS;IAC/B,OAAO,UAAU,KAAK,CAAC,cAAwB,gBAAgB;AACjE"}},
    {"offset": {"line": 1651, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1656, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/OneDrive/Desktop/Next-Level-Technology/Assingment/Assingment6/client/src/components/user/ViewPosts.tsx"],"sourcesContent":["\"use client\";\r\nimport { FaComment, FaHeart } from \"react-icons/fa\";\r\nimport { IoIosShareAlt } from \"react-icons/io\";\r\nimport toukir from \"../../../public/toukir.jpg\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { FaDownLong, FaUpLong } from \"react-icons/fa6\";\r\nimport Image from \"next/image\";\r\nimport dayjs from \"dayjs\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\ndayjs.extend(relativeTime);\r\nimport \"lightgallery/css/lightgallery.css\";\r\nimport LightGalleryImageView from \"./LightGalleryImageView\";\r\nimport { HiDotsHorizontal } from \"react-icons/hi\";\r\nimport {\r\n  Button,\r\n  Dropdown,\r\n  DropdownItem,\r\n  DropdownMenu,\r\n  Modal,\r\n  ModalBody,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  useDisclosure,\r\n} from \"@nextui-org/react\";\r\nimport { useDownvote, useSharePost, useUpvote } from \"@/src/hooks/post.hook\";\r\nimport { useGetPosts } from \"@/src/hooks/recentPosts.hook\";\r\nimport ViewComment from \"./ViewComment\";\r\nimport { checkVoteStatus } from \"@/src/utils/checkVoteStatus\";\r\nimport { useUser } from \"@/src/context/user.provider\";\r\nimport { TPost } from \"../../../types\";\r\nimport ReactQuill from \"react-quill\";\r\n\r\nconst items = [\r\n  {\r\n    key: \"copy\",\r\n    label: \"Copy\",\r\n  },\r\n  {\r\n    key: \"edit\",\r\n    label: \"Edit\",\r\n  },\r\n  {\r\n    key: \"delete\",\r\n    label: \"Delete\",\r\n  },\r\n];\r\n\r\nexport default function ViewPost() {\r\n  const { user } = useUser();\r\n  const [postId, setPostId] = useState(\"\");\r\n  const navbarRef = useRef<HTMLDivElement>(null);\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [isOpenComment, setIsOpenComment] = useState(false);\r\n  const [isOpenSharedComment, setOpenSharedComment] = useState(false);\r\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\r\n  const [description, setDescription] = useState<string>(\"\");\r\n  const {\r\n    data: postsData,\r\n    isLoading: isPostsDataLoading,\r\n    error: postsDataError,\r\n  } = useGetPosts();\r\n  const userId = user!?._id;\r\n\r\n  const toggleDropdown = () => setIsDropdownOpen((prev) => !prev);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        navbarRef.current &&\r\n        !(\r\n          event.target instanceof Node &&\r\n          navbarRef.current.contains(event.target)\r\n        )\r\n      ) {\r\n        setIsDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const { mutate: handleUpvote } = useUpvote();\r\n  const handlePostUpvote = (voteId: string, postId: string) => {\r\n    handleUpvote({ voteId, postId, userId });\r\n  };\r\n\r\n  const { mutate: handleDownvote } = useDownvote();\r\n  const handlePostDownvote = (voteId: string, postId: string) => {\r\n    handleDownvote({ voteId, postId, userId });\r\n  };\r\n\r\n  const { mutate: handleSharePost } = useSharePost();\r\n  const handlePostShare = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    handleSharePost({ description, postId });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {postsData?.data?.map((data: TPost, key: number) => {\r\n        const images = data.post.images || [];\r\n        const upvoteStatus = checkVoteStatus(\r\n          data.isShared,\r\n          data,\r\n          userId,\r\n          \"upvote\"\r\n        );\r\n        const downvoteStatus = checkVoteStatus(\r\n          data.isShared,\r\n          data,\r\n          userId,\r\n          \"downvote\"\r\n        );\r\n        return (\r\n          <div key={key}>\r\n            {!data.isShared && (\r\n              <div\r\n                className=\"my-4 shadow-md border-b border-gray-600\"\r\n                ref={navbarRef}\r\n              >\r\n                <div className=\"flex justify-between\">\r\n                  <button className=\"flex gap-2 items-center p-2 cursor-pointer w-fit\">\r\n                    <Image\r\n                      className=\" rounded-full\"\r\n                      height={45}\r\n                      width={45}\r\n                      src={toukir}\r\n                      alt=\"\"\r\n                    />\r\n                    <div>\r\n                      <p className=\"font-medium\">{data.post.user?.name}</p>\r\n                      <p className=\"text-sm text-start text-green-500\">\r\n                        {dayjs(data?.createdAt).fromNow()}\r\n                      </p>\r\n                    </div>\r\n                  </button>\r\n                  <div className=\"relative\">\r\n                    <button\r\n                      onClick={() => {\r\n                        toggleDropdown();\r\n                        setPostId(data?._id);\r\n                      }}\r\n                      className=\"mr-8 relative\"\r\n                    >\r\n                      <HiDotsHorizontal className=\"text-[20px] hover:text-green-500 transition duration-150\" />\r\n                    </button>\r\n                    {isDropdownOpen && postId == data?._id && (\r\n                      <div className=\"rounded bg-white shadow-sm z-50 w-40 absolute flex flex-col -left-[170px]\">\r\n                        <Dropdown>\r\n                          {[\r\n                            <DropdownMenu\r\n                              key=\"dropdown-menu\"\r\n                              aria-label=\"Dynamic Actions\"\r\n                              items={items}\r\n                            >\r\n                              {(item) => (\r\n                                <DropdownItem\r\n                                  key={item.key}\r\n                                  color={\r\n                                    item.key === \"delete\" ? \"danger\" : \"default\"\r\n                                  }\r\n                                  className={\r\n                                    item.key === \"delete\" ? \"text-danger\" : \"\"\r\n                                  }\r\n                                >\r\n                                  {item.label}\r\n                                </DropdownItem>\r\n                              )}\r\n                            </DropdownMenu>,\r\n                          ]}\r\n                        </Dropdown>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                {/* <p className=\"ml-4 text-sm rounded text-green-500 bg-[#1a2a17d4] w-fit px-3 py-[4px] my-1 \">\r\n                  Vegitable\r\n                </p> */}\r\n                <div className=\"mx-4 text-gray-400 break-words\">\r\n                  <div\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: data.post.description || \"\",\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <div className=\"w-[80%] mx-auto \">\r\n                  {/* light gellery image view  */}\r\n                  <div className=\"flex justify-center pt-4 pb-2\">\r\n                    <div className=\"flex justify-center gap-1 pt-4 pb-2\">\r\n                      {/* LightGallery wrapper */}\r\n                      <LightGalleryImageView images={images} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* upvote downvote comment share buttons  */}\r\n                  <div className=\"flex justify-between mt-4 px-4 pb-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        handlePostUpvote(\r\n                          data.post.votes?._id as string,\r\n                          data?._id\r\n                        );\r\n                      }}\r\n                      className={` ${upvoteStatus ? \"text-green-500\" : \"hover:text-gray-400\"}  flex items-center  transition duration-150`}\r\n                    >\r\n                      <FaUpLong className={`text-[20px]`} />\r\n                      <p>\r\n                        {data.post?.votes?.upvote?.length\r\n                          ? data.post.votes.upvote?.length\r\n                          : 0}\r\n                      </p>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        handlePostDownvote(\r\n                          data.post.votes?._id as string,\r\n                          data?._id\r\n                        );\r\n                      }}\r\n                      className={` ${downvoteStatus ? \"text-green-500\" : \"hover:text-gray-400\"}  flex items-center  transition duration-150`}\r\n                    >\r\n                      <FaDownLong className={`text-[20px]`} />\r\n                      <p>\r\n                        {data.post?.votes?.downvote?.length\r\n                          ? data.post.votes.downvote?.length\r\n                          : 0}\r\n                      </p>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        setPostId(data?._id);\r\n                        setIsOpenComment(true);\r\n                        setOpenSharedComment(false);\r\n                      }}\r\n                      className=\"flex items-center gap-1 hover:text-gray-400 transition duration-150\"\r\n                    >\r\n                      <FaComment />\r\n                      <p>\r\n                        {data.post?.comments?.length\r\n                          ? data.post?.comments?.length\r\n                          : 0}\r\n                      </p>\r\n                    </button>\r\n                    <Button\r\n                      onClick={() => setPostId(data._id)}\r\n                      onPress={onOpen}\r\n                      className=\"flex bg-black items-center gap-1 hover:text-gray-400 transition duration-150\"\r\n                    >\r\n                      <IoIosShareAlt className=\"text-2xl text-txt-200\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {data.isShared && (\r\n              <div\r\n                key={key}\r\n                className=\"mt-4 shadow-md border-b border-gray-600\"\r\n              >\r\n                <div>\r\n                  <>\r\n                    <div className=\"flex justify-between\">\r\n                      <button className=\"flex gap-2 items-center p-2 cursor-pointer w-fit text-start\">\r\n                        <Image\r\n                          className=\" rounded-full\"\r\n                          height={45}\r\n                          width={45}\r\n                          src={toukir}\r\n                          alt=\"\"\r\n                        />\r\n                        <div>\r\n                          <p className=\"font-medium\">{data.sharedUser?.name}</p>\r\n                          <p className=\"text-sm text-green-500\">\r\n                            {dayjs(data.createdAt).fromNow()}\r\n                          </p>\r\n                        </div>\r\n                      </button>\r\n                      <div className=\"relative\">\r\n                        <button\r\n                          onClick={() => {\r\n                            toggleDropdown();\r\n                            setPostId(data?._id);\r\n                          }}\r\n                          className=\"mr-8 relative\"\r\n                        >\r\n                          <HiDotsHorizontal className=\"text-[20px] hover:text-green-500 transition duration-150\" />\r\n                        </button>\r\n                        {isDropdownOpen && postId == data?._id && (\r\n                          <div className=\"rounded bg-white shadow-sm z-50 w-40 absolute flex flex-col -left-[170px]\">\r\n                            <Dropdown>\r\n                              {[\r\n                                <DropdownMenu\r\n                                  key=\"dropdown-menu\"\r\n                                  aria-label=\"Dynamic Actions\"\r\n                                  items={items}\r\n                                >\r\n                                  {(item) => (\r\n                                    <DropdownItem\r\n                                      key={item.key}\r\n                                      color={\r\n                                        item.key === \"delete\"\r\n                                          ? \"danger\"\r\n                                          : \"default\"\r\n                                      }\r\n                                      className={\r\n                                        item.key === \"delete\"\r\n                                          ? \"text-danger\"\r\n                                          : \"\"\r\n                                      }\r\n                                    >\r\n                                      {item.label}\r\n                                    </DropdownItem>\r\n                                  )}\r\n                                </DropdownMenu>,\r\n                              ]}\r\n                            </Dropdown>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"pl-4\">\r\n                      <div\r\n                        dangerouslySetInnerHTML={{\r\n                          __html: data.description || \"\",\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                  </>\r\n                  <div className=\"\">\r\n                    <div className=\"mx-6 border border-gray-600 p-2 mt-2 rounded-lg\">\r\n                      <button className=\" text-start flex gap-2 items-center p-2 cursor-pointer w-fit \">\r\n                        <Image\r\n                          className=\" rounded-full\"\r\n                          height={40}\r\n                          width={40}\r\n                          src={toukir}\r\n                          alt=\"\"\r\n                        />\r\n                        <div>\r\n                          <p className=\"font-medium\">{data.post.user?.name}</p>\r\n                          <p className=\"text-sm text-green-500\">\r\n                            {dayjs(data.post.createdAt).fromNow()}\r\n                          </p>\r\n                        </div>\r\n                      </button>\r\n                      <div className=\"pl-4\">\r\n                        <div\r\n                          dangerouslySetInnerHTML={{\r\n                            __html: data.post.description || \"\",\r\n                          }}\r\n                        ></div>\r\n                      </div>\r\n                      <div className=\"flex w-[90%] mx-auto justify-center pt-4 pb-8\">\r\n                        <LightGalleryImageView images={images} />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex justify-between mt-4 px-16 pb-4\">\r\n                      <button\r\n                        onClick={() => {\r\n                          handlePostUpvote(data.votes?._id, data?._id);\r\n                        }}\r\n                        className={` ${upvoteStatus ? \"text-green-500\" : \"hover:text-gray-400\"}  flex items-center  transition duration-150`}\r\n                      >\r\n                        <FaUpLong className={`text-[20px] `} />\r\n                        <p>\r\n                          {data.votes.upvote.length\r\n                            ? data.votes.upvote.length\r\n                            : 0}\r\n                        </p>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          handlePostDownvote(data.votes?._id, data?._id);\r\n                        }}\r\n                        className={` ${downvoteStatus ? \"text-green-500\" : \"hover:text-gray-400\"}  flex items-center  transition duration-150`}\r\n                      >\r\n                        <FaDownLong className={`text-[20px]`} />\r\n                        <p>\r\n                          {data.votes?.downvote.length\r\n                            ? data.votes?.downvote.length\r\n                            : 0}\r\n                        </p>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setPostId(data?._id);\r\n                          setIsOpenComment(false);\r\n                          setOpenSharedComment(true);\r\n                        }}\r\n                        className=\"flex items-center gap-1 hover:text-gray-400 transition duration-150\"\r\n                      >\r\n                        <FaComment className=\"text-txt-200\" />\r\n                        <p>\r\n                          {data?.comments?.length ? data?.comments?.length : 0}\r\n                        </p>\r\n                      </button>\r\n                      <Button\r\n                        onClick={() => setPostId(data._id)}\r\n                        onPress={onOpen}\r\n                        className=\"flex bg-black items-center gap-1 hover:text-gray-400 transition duration-150\"\r\n                      >\r\n                        <IoIosShareAlt className=\"text-2xl text-txt-200\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n      <Modal\r\n        className=\"bg-[#121212]\"\r\n        isOpen={isOpen}\r\n        size=\"2xl\"\r\n        onOpenChange={onOpenChange}\r\n      >\r\n        <form onSubmit={handlePostShare}>\r\n          <ModalContent className=\"absolute top-8 -translate-x-9\">\r\n            {(onClose) => (\r\n              <>\r\n                <ModalHeader className=\"flex text-center flex-col gap-1 border-b border-gray-600\">\r\n                  Create post\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                  {/* Rich Text Editor */}\r\n                  <div className=\"mt-3\">\r\n                    <ReactQuill\r\n                      placeholder=\"Add a description...\"\r\n                      className=\"text-white custom-quill\"\r\n                      value={description}\r\n                      onChange={setDescription}\r\n                      style={{ height: \"150px\" }}\r\n                    />\r\n                  </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                  <Button\r\n                    className=\"bg-green-500 py-2 mt-10 font-medium rounded-full w-full\"\r\n                    type=\"submit\"\r\n                    onPress={onClose}\r\n                  >\r\n                    Share\r\n                  </Button>\r\n                </ModalFooter>\r\n              </>\r\n            )}\r\n          </ModalContent>\r\n        </form>\r\n      </Modal>\r\n      {(isOpenComment || isOpenSharedComment) && (\r\n        <ViewComment\r\n          postId={postId}\r\n          setOpenSharedComment={setOpenSharedComment}\r\n          setIsOpenComment={setIsOpenComment}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2491, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}